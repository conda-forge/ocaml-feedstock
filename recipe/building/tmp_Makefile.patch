--- Makefile.orig	2025-01-07 00:00:00.000000000 -0600
+++ Makefile	2025-01-07 00:00:00.000000000 -0600
@@ -2214,4 +2214,7 @@
 .INTERMEDIATE: tools/checkstack$(EXE) tools/checkstack.$(O)
+tools/checkstack.$(O): tools/checkstack.c
+	$(V_CC)$(CHECKSTACK_CC) $(OC_CFLAGS) $(CFLAGS) $(OUTPUTOBJ)$@ -c $<
+
 tools/checkstack$(EXE): tools/checkstack.$(O)
-	$(V_MKEXE)$(MKEXE) $(OUTPUTEXE)$@ $<
+	$(V_MKEXE)$(CHECKSTACK_CC) $(OC_LDFLAGS) $(LDFLAGS) $(OUTPUTEXE)$@ $<
 else
@@ -2971,2 +2974,6 @@
 include Makefile.cross
 endif
+# Also include for canadian cross (BUILD != HOST)
+ifneq "$(BUILD)" "$(HOST)"
+include Makefile.cross
+endif

